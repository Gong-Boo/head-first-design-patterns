## chapter5. 하나뿐인 특별한 객체 만들기
- 특정 클래스에 객체 인스턴스가 하나만 만드러지도록 해주는 패턴입니다.
- 괜히 자원만 잡아먹는 쓸데없는 객체가 되고 말겠죠?
- 필요할 때만 객체를 만들 수가 있어요.
- 인스턴스를 2개 이상 만들지 않게 하지?
- MyClass에 있는 코드에서만 호출할 수 있는 것 같은데.
- MyClass 형식의 객체에서만 private으로 선언된 생성자를 사용할 수 있고.
- 정적 메소드를 지칭할 때는 클래스 이름을 써야 합니다.
- 게으른 인스턴스 생성 (lazyinstantination) 이라고 부릅니다.
- 제 생성자는 private으로 저장돼 있어요.
- 인스턴스를 달라고 요청해야 돼요.
- 인스턴스를 하나만 만들고 전역 접근을 제공합니다.
- 하나뿐인 인스턴스를 관리하도록
- 자신의 인스턴스를 추가로 만들지 못하게 해야 합니다.
- 클래스 자신을 거치도록 해야겠죠.
- 전역 접근 지점을 제공합니다.
- 클래스에 요청할 수 있게 만들어 놓고
- 자원을 많이 잡아먹는 인스턴스가 있면.
- 다른 보일러 객체를 사용하게 될 가능성은 없는지 따져 봅시다.
- 한 스레드가 메소드 사용을 끝내기 전까지 다른 스레드는 기다려야 합니다.
- 이 메소드를 동시에 실행하는 일은 일어나지 않죠.
- 일단 uniqueInstance 변수에 Singleton 인스턴스를 대입합면 굳이 이메소드를 동기화된 상태로 유지할 필요가 없습니다.
- 처음을 제외하면 동기화는 불필요한 오버헤드만 증가할 뿐입니다.
- 멀티스레드 환경에서도 싱글턴이 돌아가도록 만들어야 합니다.
- 성능이 100배 정도 저하된다는 사실만은 기억해둡시다.
- 그 어떤 스레드도 uniqueInstance 정적 변수에 접근할 수 없습니다.
- 인스턴스가 생성되어 있는지 확인한 다음 생성되어 있지 않았을 때만 동기화할 수 있습니다.
- 나중에는 동기화하지 않아도 됩니다.
- 인스턴스 개수를 제한해야 하는 상황에서 언제든지 사용할 수 있습니다.
- 초기화 순서 문제로 찾아내기 어려운 버그를 생길 수도 있습니다.
- 싱글턴을 바꾸면 연결된 모든 객체도 바꿔야 할 가능성이 높으니까요.
- 자신의 인스턴스를 관리하는 일 외에도 원래 그 인스턴스를 사용하고자 하는 목적에 부합하는 작업을 책임져야 합니다.
- 전체적인 디자인을 더 간단하게 만들 수 있기 때문이죠.
- 싱글턴에 있는 기능을 별도로 뽑아내야 한다는 의견도 있습니다.
- 싱글턴은 특수한 상황에서 제한된 용도로 사용하려고 만들어진 것이니까요.
- 그 클래스의 인스턴스가 1개만 있도록 할 수 있습니다.
- 어디서든지 접근할 수 있습니다.
- private 생성자와 정적 메소드, 변수를 사용합니다.
- 사실 모든 애프리케이션에서 멀티 스레딩을 쓸 수 있다고 생각해야 합니다.
- 여러개의 인스턴스가 생길 수 있습니다.
- enum을 쓰시면 됩니다.
